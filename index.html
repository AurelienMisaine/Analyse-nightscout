<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Analyse Diab√®te</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles/main.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>Analyse Nightscout ü©∏</h1>
        
        <div class="config">
            <input type="text" id="nightscoutUrl" 
                   value="https://aurelien.misaine.bizis.si" readonly>
            <input type="password" id="apiToken" 
                   value="reporter-0554ed1eaf3b1631" readonly>
            <button onclick="loadData()">Actualiser</button>
        </div>

        <div id="loading">Chargement des donn√©es...</div>
        
        <div class="stats" id="stats"></div>
        
        <div class="charts">
            <div class="chart-container">
                <canvas id="glucoseChart"></canvas>
            </div>
            <div class="chart-container">
                <canvas id="insulinChart"></canvas>
            </div>
        </div>
    </div>

    <script src="scripts/app.js"></script>
</body>
</html>
<script>
// V√©rification du hash attendu
const EXPECTED_HASH = "7d5e4e1a7e2c6b0f3d8a9c1b2e4f5a6d7c3b1a0"; // Remplacez par le hash r√©el de MM.Misaine2019
const ACTUAL_HASH = CryptoJS.SHA1("MM.Misaine2019").toString();

if(ACTUAL_HASH !== EXPECTED_HASH) {
    document.body.innerHTML = '<h1 style="color:red">Erreur de configuration critique !</h1>';
    throw new Error('API Secret incorrect');
}
</script>
